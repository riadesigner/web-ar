<!doctype HTML>
<html>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">

<script src="js/aframe.min.js"></script>
<script src="js/aframe-ar.js"></script>
<script src="js/aframe-gif-shader.min.js"></script>
<script src="js/wad.js"></script>

<body style="margin: 0px; overflow: hidden;">

<script>

let bell = new Wad({source : 'snd/music-1.mp3'});

AFRAME.registerComponent('registerevents', {
    init: function () 
    {
        let marker = this.el;

        marker.addEventListener('markerFound', function() {
            // markerVisible[ marker.id ] = true;
            // console.log( markerVisible );            
            bell.play();
            console.log('markerFound',marker)
        });

        marker.addEventListener('markerLost', function() {
            // markerVisible[ marker.id ] = false;
            // console.log( markerVisible );
            bell.stop();
            console.log('markerLost',marker)
        });
    }
});    

</script>



  
<a-scene embedded vr-mode-ui="enabled: false;" arjs="debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;">

    <a-assets>
        <img id="kotik-gif" src="images/kotik.gif" />
    </a-assets>

    <a-marker type="barcode" value="2" registerevents>
        <a-plane position="0 0 0" 
                 rotation="-90 0 -90"
                 scale=".8 .8"
               material="src: #kotik-gif;shader:gif;">
        </a-plane>
    </a-marker>
    
    <a-entity camera></a-entity>
    
</a-scene>


<script type="text/javascript">





</script>
    
</body>
</html>