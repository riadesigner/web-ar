<!doctype HTML>
<html>

<script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
<script src="js/aframe-ar.js"></script>
<body style="margin: 0px; overflow: hidden;">
  
<!-- set detectionMode and matrixCodeType to enable barcode marker detection and custom pattern files -->

<script type="text/javascript">
    

         // Added variable definitions for video storage
          var video = null;

    console.log('AFRAME=',AFRAME)  

            // AFRAME.registerComponent('hello-world', {
            //   init: function () {
            //     console.log("========================");
            //   }
            // });
  
          // AFRAME.registerComponent('registerevents', {
          //     init: function () {
          //           console.log("hi!")
          //         var marker = this.el;
  
          //         // Registration of events where markers are detected
          //         marker.addEventListener('markerFound', function () {
    
          //               console.log('markerFound!!!')

          //             // After marker recognition, video playback
          //             if (video == null) {
          //                 video = document.querySelector('#ar-video');
          //             }
          //             video.play();

          //         });
  
          //         // Registration of events with missing markers
          //         marker.addEventListener('markerLost', function () {
                      
          //             console.log('markerLost!!!')
          //             // If marker recognition fails, video stops
          //             video.pause();
          //         });
          //     }
          // });
  

</script>


<a-scene 
    embedded 
    vr-mode-ui="enabled: false;" 
    arjs="debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;">

    <a-assets>
<!-- 
        <video
          id="ar-video" 
          crossorigin="anonymous"
          type="video/mp4"
          src="https://cdn.glitch.me/3f355bb5-4189-4fe3-9d54-d98ba87183f1/VID_20220621_143037.mp4"
          autoplay
          loop="true"
          playsinline webkit-playsinline controls
        ></video>     -->
        
	</a-assets >


    <a-marker type="pattern" url="data/kanji.patt">
   
<!--         <a-video
          src="#ar-video"
          position="0 0 0"
          rotation="270 0 0"
          play="true"
        ></a-video> -->

        <a-plane material="shader:gif;src:url(images/kotik.gif)"> </a-plain>


    </a-marker>

<!-- <a-marker-camera preset='custom' url='your-marker.patt'>...</a-marker-camera> -->



<!--     <a-marker type="pattern" url="data/kanji.patt">
        <a-box position="0 0.5 0" 
               material="color: red; transparent: true; opacity: 0.50;">
        </a-box>
    </a-marker>
    
    <a-marker type="barcode" value="1">
        <a-box position="0 0.5 0" 
               material="src: #grid; color: yellow; transparent: true; opacity: 0.50;">
        </a-box>
    </a-marker>

    <a-marker type="barcode" value="2">
        <a-plane position="0 0 0" 
                 rotation="-90 0 0"
               material="src: #earth-flat;">
        </a-plane>
    </a-marker>

    <a-marker type="barcode" value="3">
        <a-sphere position="0 0.5 0" 
               material="src: #earth-sphere; transparent: true; opacity: 0.95;">
        </a-sphere>
    </a-marker> -->
    
    <a-entity camera></a-entity>
    

</a-scene>




<script>

          
          // window.addEventListener('click', function () {
          //     video = document.querySelector('#ar-video');
          //     video.play();
          // });
      </script>


</body>
</html>